Provided cores: 40
Rules claiming more threads will be scaled down.
Unlimited resources: mem
Job counts:
	count	jobs
	1	all
	1	cd_hit
	1	fastp
	1	fastq2fasta
	1	fastq_join
	1	merge_reads
	6

rule fastp:
    input: data/I1164_12629_Harvard_SIV_196_06_2_24_12_mini_SE1.fastq.gz, data/I1164_12629_Harvard_SIV_196_06_2_24_12_mini_SE2.fastq.gz
    output: output/fastp/I1164_12629_Harvard_SIV_196_06_2_24_12_mini.pair1.truncated.gz, output/fastp/I1164_12629_Harvard_SIV_196_06_2_24_12_mini.pair2.truncated.gz
    jobid: 5
    wildcards: sample=I1164_12629_Harvard_SIV_196_06_2_24_12_mini
    threads: 8

Read1 before filtering:
total reads: 4414
total bases: 1103500
Q20 bases: 1025629(92.9433%)
Q30 bases: 995944(90.2532%)

Read1 after filtering:
total reads: 4342
total bases: 1030101
Q20 bases: 963374(93.5223%)
Q30 bases: 940720(91.3231%)

Read2 before filtering:
total reads: 4414
total bases: 1103500
Q20 bases: 929697(84.2498%)
Q30 bases: 877232(79.4954%)

Read2 aftering filtering:
total reads: 4342
total bases: 1030101
Q20 bases: 886716(86.0805%)
Q30 bases: 848919(82.4112%)

Filtering result:
reads passed filter: 8684
reads failed due to low quality: 144
reads failed due to too many N: 0
reads failed due to too short: 0
reads failed due to low complexity: 0
reads with adapter trimmed: 536
bases trimmed due to adapters: 27342

JSON report: output/fastp/I1164_12629_Harvard_SIV_196_06_2_24_12_mini.report.json
HTML report: output/fastp/I1164_12629_Harvard_SIV_196_06_2_24_12_mini.report.html

fastp -i data/I1164_12629_Harvard_SIV_196_06_2_24_12_mini_SE1.fastq.gz -I data/I1164_12629_Harvard_SIV_196_06_2_24_12_mini_SE2.fastq.gz -o output/fastp/I1164_12629_Harvard_SIV_196_06_2_24_12_mini.pair1.truncated.gz -O output/fastp/I1164_12629_Harvard_SIV_196_06_2_24_12_mini.pair2.truncated.gz -f 5 -t 5 -l 50 -y -Y 8 -h output/fastp/I1164_12629_Harvard_SIV_196_06_2_24_12_mini.report.html -j output/fastp/I1164_12629_Harvard_SIV_196_06_2_24_12_mini.report.json -w 8 
fastp v0.12.5, time used: 0 seconds
Finished job 5.
1 of 6 steps (17%) done

rule fastq_join:
    input: output/fastp/I1164_12629_Harvard_SIV_196_06_2_24_12_mini.pair1.truncated.gz, output/fastp/I1164_12629_Harvard_SIV_196_06_2_24_12_mini.pair2.truncated.gz
    output: output/stitched/I1164_12629_Harvard_SIV_196_06_2_24_12_mini.join.fq.gz, output/stitched/I1164_12629_Harvard_SIV_196_06_2_24_12_mini.un1.fq.gz, output/stitched/I1164_12629_Harvard_SIV_196_06_2_24_12_mini.un2.fq.gz
    jobid: 4
    wildcards: sample=I1164_12629_Harvard_SIV_196_06_2_24_12_mini

Total reads: 4342
Total joined: 2498
Average join len: 123.30
Stdev join len: 62.67
Version: 1.3.1
Finished job 4.
2 of 6 steps (33%) done

rule merge_reads:
    input: output/stitched/I1164_12629_Harvard_SIV_196_06_2_24_12_mini.join.fq.gz, output/stitched/I1164_12629_Harvard_SIV_196_06_2_24_12_mini.un1.fq.gz, output/stitched/I1164_12629_Harvard_SIV_196_06_2_24_12_mini.un2.fq.gz
    output: output/merged/I1164_12629_Harvard_SIV_196_06_2_24_12_mini.stitched.merged.fq.gz
    jobid: 3
    wildcards: sample=I1164_12629_Harvard_SIV_196_06_2_24_12_mini

Finished job 3.
3 of 6 steps (50%) done

rule fastq2fasta:
    input: output/merged/I1164_12629_Harvard_SIV_196_06_2_24_12_mini.stitched.merged.fq.gz
    output: output/fasta/I1164_12629_Harvard_SIV_196_06_2_24_12_mini.stitched.merged.fasta
    jobid: 2
    wildcards: sample=I1164_12629_Harvard_SIV_196_06_2_24_12_mini

Finished job 2.
4 of 6 steps (67%) done

rule cd_hit:
    input: output/fasta/I1164_12629_Harvard_SIV_196_06_2_24_12_mini.stitched.merged.fasta
    output: output/cdhit/I1164_12629_Harvard_SIV_196_06_2_24_12_mini.stitched.merged.cdhit.fa, output/cdhit/I1164_12629_Harvard_SIV_196_06_2_24_12_mini.stitched.merged.cdhit.report
    jobid: 1
    wildcards: sample=I1164_12629_Harvard_SIV_196_06_2_24_12_mini
    threads: 20
    resources: mem=20480

Finished job 1.
5 of 6 steps (83%) done

localrule all:
    input: output/cdhit/I1164_12629_Harvard_SIV_196_06_2_24_12_mini.stitched.merged.cdhit.fa, output/cdhit/I1164_12629_Harvard_SIV_196_06_2_24_12_mini.stitched.merged.cdhit.report
    jobid: 0

Finished job 0.
6 of 6 steps (100%) done
Provided cores: 40
Rules claiming more threads will be scaled down.
Unlimited resources: mem
Job counts:
	count	jobs
	1	all
	1	cd_hit
	1	fastp
	1	fastq2fasta
	1	fastq_join
	1	merge_reads
	6

rule fastp:
    input: data/I1164_12629_Harvard_SIV_196_06_2_24_12_mini_SE1.fastq.gz, data/I1164_12629_Harvard_SIV_196_06_2_24_12_mini_SE2.fastq.gz
    output: output/fastp/I1164_12629_Harvard_SIV_196_06_2_24_12_mini.pair1.truncated.gz, output/fastp/I1164_12629_Harvard_SIV_196_06_2_24_12_mini.pair2.truncated.gz
    jobid: 5
    wildcards: sample=I1164_12629_Harvard_SIV_196_06_2_24_12_mini
    threads: 40

ERROR: thread number (--thread) should be 1 ~ 16, suggest 1 ~ 8
Error in job fastp while creating output files output/fastp/I1164_12629_Harvard_SIV_196_06_2_24_12_mini.pair1.truncated.gz, output/fastp/I1164_12629_Harvard_SIV_196_06_2_24_12_mini.pair2.truncated.gz.
RuleException:
CalledProcessError in line 101 of /gpfs/hpchome/taavi74/Projects/vs/Snakefile.py:
Command '
        fastp -i data/I1164_12629_Harvard_SIV_196_06_2_24_12_mini_SE1.fastq.gz -I data/I1164_12629_Harvard_SIV_196_06_2_24_12_mini_SE2.fastq.gz -o output/fastp/I1164_12629_Harvard_SIV_196_06_2_24_12_mini.pair1.truncated.gz -O output/fastp/I1164_12629_Harvard_SIV_196_06_2_24_12_mini.pair2.truncated.gz -f 5 -t 5 -l 50 -y -Y 8 -h output/fastp/I1164_12629_Harvard_SIV_196_06_2_24_12_mini.report.html -j output/fastp/I1164_12629_Harvard_SIV_196_06_2_24_12_mini.report.json -w 40
        ' returned non-zero exit status 255.
  File "/gpfs/hpchome/taavi74/Projects/vs/Snakefile.py", line 101, in __rule_fastp
  File "/gpfs/hpchome/taavi74/miniconda3/lib/python3.6/concurrent/futures/thread.py", line 56, in run
Will exit after finishing currently running jobs.
Exiting because a job execution failed. Look above for error message
Provided cores: 40
Rules claiming more threads will be scaled down.
Unlimited resources: mem
Job counts:
	count	jobs
	1	all
	1	cd_hit
	1	fastp
	1	fastq2fasta
	1	fastq_join
	1	merge_reads
	6

rule fastp:
    input: data/I1164_12629_Harvard_SIV_196_06_2_24_12_mini_SE1.fastq.gz, data/I1164_12629_Harvard_SIV_196_06_2_24_12_mini_SE2.fastq.gz
    output: output/fastp/I1164_12629_Harvard_SIV_196_06_2_24_12_mini.pair1.truncated.gz, output/fastp/I1164_12629_Harvard_SIV_196_06_2_24_12_mini.pair2.truncated.gz
    jobid: 5
    wildcards: sample=I1164_12629_Harvard_SIV_196_06_2_24_12_mini
    threads: 16

Read1 before filtering:
total reads: 4414
total bases: 1103500
Q20 bases: 1025629(92.9433%)
Q30 bases: 995944(90.2532%)

Read1 after filtering:
total reads: 4342
total bases: 1030101
Q20 bases: 963374(93.5223%)
Q30 bases: 940720(91.3231%)

Read2 before filtering:
total reads: 4414
total bases: 1103500
Q20 bases: 929697(84.2498%)
Q30 bases: 877232(79.4954%)

Read2 aftering filtering:
total reads: 4342
total bases: 1030101
Q20 bases: 886716(86.0805%)
Q30 bases: 848919(82.4112%)

Filtering result:
reads passed filter: 8684
reads failed due to low quality: 144
reads failed due to too many N: 0
reads failed due to too short: 0
reads failed due to low complexity: 0
reads with adapter trimmed: 536
bases trimmed due to adapters: 27342

JSON report: output/fastp/I1164_12629_Harvard_SIV_196_06_2_24_12_mini.report.json
HTML report: output/fastp/I1164_12629_Harvard_SIV_196_06_2_24_12_mini.report.html

fastp -i data/I1164_12629_Harvard_SIV_196_06_2_24_12_mini_SE1.fastq.gz -I data/I1164_12629_Harvard_SIV_196_06_2_24_12_mini_SE2.fastq.gz -o output/fastp/I1164_12629_Harvard_SIV_196_06_2_24_12_mini.pair1.truncated.gz -O output/fastp/I1164_12629_Harvard_SIV_196_06_2_24_12_mini.pair2.truncated.gz -f 5 -t 5 -l 50 -y -Y 8 -h output/fastp/I1164_12629_Harvard_SIV_196_06_2_24_12_mini.report.html -j output/fastp/I1164_12629_Harvard_SIV_196_06_2_24_12_mini.report.json -w 16 
fastp v0.12.5, time used: 1 seconds
Finished job 5.
1 of 6 steps (17%) done

rule fastq_join:
    input: output/fastp/I1164_12629_Harvard_SIV_196_06_2_24_12_mini.pair1.truncated.gz, output/fastp/I1164_12629_Harvard_SIV_196_06_2_24_12_mini.pair2.truncated.gz
    output: output/stitched/I1164_12629_Harvard_SIV_196_06_2_24_12_mini.join.fq.gz, output/stitched/I1164_12629_Harvard_SIV_196_06_2_24_12_mini.un1.fq.gz, output/stitched/I1164_12629_Harvard_SIV_196_06_2_24_12_mini.un2.fq.gz
    jobid: 4
    wildcards: sample=I1164_12629_Harvard_SIV_196_06_2_24_12_mini

Total reads: 4342
Total joined: 2498
Average join len: 123.30
Stdev join len: 62.67
Version: 1.3.1
Finished job 4.
2 of 6 steps (33%) done

rule merge_reads:
    input: output/stitched/I1164_12629_Harvard_SIV_196_06_2_24_12_mini.join.fq.gz, output/stitched/I1164_12629_Harvard_SIV_196_06_2_24_12_mini.un1.fq.gz, output/stitched/I1164_12629_Harvard_SIV_196_06_2_24_12_mini.un2.fq.gz
    output: output/merged/I1164_12629_Harvard_SIV_196_06_2_24_12_mini.stitched.merged.fq.gz
    jobid: 3
    wildcards: sample=I1164_12629_Harvard_SIV_196_06_2_24_12_mini

Finished job 3.
3 of 6 steps (50%) done

rule fastq2fasta:
    input: output/merged/I1164_12629_Harvard_SIV_196_06_2_24_12_mini.stitched.merged.fq.gz
    output: output/fasta/I1164_12629_Harvard_SIV_196_06_2_24_12_mini.stitched.merged.fasta
    jobid: 2
    wildcards: sample=I1164_12629_Harvard_SIV_196_06_2_24_12_mini

Finished job 2.
4 of 6 steps (67%) done

rule cd_hit:
    input: output/fasta/I1164_12629_Harvard_SIV_196_06_2_24_12_mini.stitched.merged.fasta
    output: output/cdhit/I1164_12629_Harvard_SIV_196_06_2_24_12_mini.stitched.merged.cdhit.fa, output/cdhit/I1164_12629_Harvard_SIV_196_06_2_24_12_mini.stitched.merged.cdhit.report
    jobid: 1
    wildcards: sample=I1164_12629_Harvard_SIV_196_06_2_24_12_mini
    threads: 40
    resources: mem=20480

Finished job 1.
5 of 6 steps (83%) done

localrule all:
    input: output/cdhit/I1164_12629_Harvard_SIV_196_06_2_24_12_mini.stitched.merged.cdhit.fa, output/cdhit/I1164_12629_Harvard_SIV_196_06_2_24_12_mini.stitched.merged.cdhit.report
    jobid: 0

Finished job 0.
6 of 6 steps (100%) done
Provided cores: 40
Rules claiming more threads will be scaled down.
Job counts:
	count	jobs
	1	all
	1	tantan
	2

rule tantan:
    input: output/cdhit/I1164_12629_Harvard_SIV_196_06_2_24_12_mini.stitched.merged.cdhit.fa
    output: output/tantan/I1164_12629_Harvard_SIV_196_06_2_24_12_mini.stitched.merged.cdhit.tantan.fa
    jobid: 1
    wildcards: sample=I1164_12629_Harvard_SIV_196_06_2_24_12_mini

Finished job 1.
1 of 2 steps (50%) done

localrule all:
    input: output/tantan/I1164_12629_Harvard_SIV_196_06_2_24_12_mini.stitched.merged.cdhit.tantan.fa
    jobid: 0

Finished job 0.
2 of 2 steps (100%) done
